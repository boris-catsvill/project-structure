<!DOCTYPE HTML>
<meta charset="utf-8">

<head>
  <title>Админка для магазина</title>
  <link rel="apple-touch-icon-precomposed" href="/assets/favicon/apple-touch-icon-precomposed.png">
  <link rel="icon" href="/assets/favicon/favicon.png">
</head>

<body>

<main class="main">
  <div class="progress-bar">
    <div class="progress-bar__line"></div>
  </div>
  <aside class="sidebar">
    <h2 class="sidebar__title">
      <a href="/">shop admin</a>
    </h2>
    <ul class="sidebar__nav">
      <li>
        <a href="/" data-page="dashboard">
          <i class="icon-dashboard"></i> <span>Dashboard</span>
        </a>
      </li>
      <li>
        <a href="/products" data-page="products">
          <i class="icon-products"></i> <span>Products</span>
        </a>
      </li>
      <li>
        <a href="/categories" data-page="categories">
          <i class="icon-categories"></i> <span>Categories</span>
        </a>
      </li>
      <li>
        <a href="/sales" data-page="sales">
          <i class="icon-sales"></i> <span>Sales</span>
        </a>
      </li>
    </ul>
    <ul class="sidebar__nav sidebar__nav_bottom">
      <li>
        <button type="button" class="sidebar__toggler">
          <i class="icon-toggle-sidebar"></i> <span>Toggle sidebar</span>
        </button>
      </li>
    </ul>
  </aside>
  <section class="content" id="content">

  </section>
</main>
<script type="module">
  const defaultActiveItem = document.querySelector('.icon-dashboard').closest('li');
  defaultActiveItem.classList.add('active');

  const elements = document.querySelector('.sidebar__nav');
  elements.addEventListener(
    'pointerdown',
    onPointerDown
  );

  const toggler = document.querySelector('.sidebar__toggler');
  toggler.addEventListener(
    'pointerdown',
    event => {
      document.body.classList.toggle('is-collapsed-sidebar');
    }
  );

  function onPointerDown(event) {
    const closest = event.target.closest('li');
    if (!closest) {
      return;
    }
    document.querySelectorAll('.sidebar__nav li').forEach(element => element.classList.remove('active'));
    closest.classList.add('active');
  }
</script>
</body>
